# ---------------------------------------------------------------------------
# TASKS CONFIGURATION
# ---------------------------------------------------------------------------
# This file defines the tasks that will be executed by the research crew.
# Each task is assigned to a specific agent and has a clear description
# and expected output. The tasks are designed to be executed sequentially,
# with the output of one task feeding into the next.
# ---------------------------------------------------------------------------

research_task:
  description: >
    Conduct a comprehensive analysis of the provided research papers and articles
    on the topic of '{topic}'. Extract the key concepts, methodologies, findings,
    and any significant data points. Your focus should be on creating a detailed
    and objective summary of the source material.

    IMPORTANT: If the runner inputs include a key named `{papers_to_review}` that
    contains a list of URLs, use the "Knowledge Ingestion Tool" to fetch and
    parse each URL (PDF or webpage). Pass the list of URLs to the tool and base
    your analysis on the content returned by the tool. Do not attempt to re-download
    or re-parse the documents yourself; rely on the tool output as the canonical
    ingested content for this task.
  expected_output: >
    A detailed summary of the research papers, including:
    - A list of the key concepts and their definitions.
    - An overview of the methodologies used in each paper.
    - A bullet-point summary of the main findings and conclusions.
    - A compilation of any important data points or statistics presented.
  agent: researcher

review_task:
  description: >
    Critically review the research summary provided by the Senior Research Analyst.
    Your objective is to identify any potential biases, logical inconsistencies,
    or gaps in the analysis. Pose critical questions to challenge the assumptions
    and interpretations of the findings.
  expected_output: >
    A critical review of the research summary, including:
    - A list of identified potential biases or logical fallacies.
    - A series of questions that challenge the assumptions of the research.
    - An assessment of the strengths and weaknesses of the summarized findings.
  agent: reviewer
  context:
    - research_task

synthesis_task:
  description: >
    Synthesize the research summary and the critical review to generate novel insights
    and a forward-looking perspective. Connect the dots between different findings,
    identify overarching themes, and formulate a new hypothesis for future exploration.
  expected_output: >
    A "Collective Insight Report" that includes:
    - A synthesis of the key findings from the research.
    - A discussion of the main themes and patterns that emerged.
    - A well-defined, testable hypothesis for future research.
    - Citations or references to the parts of the summary that support the insights.
  agent: synthesizer
  context:
    - research_task
    - review_task

# ---------------------------------------------------------------------------
# OPTIONAL ENHANCEMENT TASKS (Stretch Goals)
# ---------------------------------------------------------------------------
# These tasks can be added to the crew for a more in-depth and visually
# compelling research output.
# ---------------------------------------------------------------------------

visualization_task:
  description: >
    Based on the "Collective Insight Report," create visual representations of the
    key data and the relationships between concepts. This could include charts,
    graphs, or diagrams that help to communicate the synthesized insights effectively.
  expected_output: >
    A set of data visualizations (e.g., in the form of code snippets for a library
    like Matplotlib or a description for a tool like D3.js) that clearly illustrate:
    - The key data points from the research.
    - The relationships between the synthesized concepts.
    - A visual representation of the proposed hypothesis.
  agent: data_visualizer
  context:
    - synthesis_task

hypothesis_validation_task:
  description: >
    Design an experimental or analytical framework to test the hypothesis
    generated in the "Collective Insight Report." Outline the steps, required
    data, and methodologies for validation.
  expected_output: >
    A detailed plan for validating the new hypothesis, including:
    - A step-by-step experimental design or analytical procedure.
    - A description of the data that would need to be collected or generated.
    - The statistical methods or analytical techniques to be used.
  agent: hypothesis_tester
  context:
    - synthesis_task

historical_context_task:
  description: >
    Provide historical context for the research topic of '{topic}'. Trace the
    intellectual lineage of the key concepts and debates. This will help to
    situate the current research within the broader academic conversation.
  expected_output: >
    A historical overview of the research topic, including:
    - A timeline of key publications and discoveries.
    - A summary of the foundational theories and how they have evolved.
    - An identification of the major schools of thought and ongoing debates.
  agent: historian
